(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function r(t,n,r){return(n=function(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}!function(){var e=wp.i18n.__,t=wp.blocks,r=t.registerBlockType,o=t.createBlock,a=wp.element.Fragment,i=wp.blockEditor||wp.editor,l=i.InspectorControls,c=i.useBlockProps,u=wp.components,s=u.PanelBody,m=u.ToggleControl,p=u.Disabled,g=wp.serverSideRender&&wp.serverSideRender.default||wp.serverSideRender,w=wp.hooks.addFilter,d=function(){return wp.element.createElement("span",{className:"linguator-block-icon",style:{fontFamily:"linguator",fontSize:"20px",lineHeight:"1",display:"inline-block"}},"î¤€")},b=function(){return wp.element.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",fill:"none"},wp.element.createElement("path",{d:"M1.5 4L6 8l4.5-4",strokeWidth:1.5,stroke:"currentColor"}))},f={dropdown:{type:"boolean",default:!1},show_names:{type:"boolean",default:!0},show_flags:{type:"boolean",default:!1},force_home:{type:"boolean",default:!1},hide_current:{type:"boolean",default:!1},hide_if_no_translation:{type:"boolean",default:!1}};function h(t){var r=t.attributes,o=t.setAttributes,a=t.showHideCurrentEvenInDropdown,i=void 0!==a&&a,c=r.dropdown,u=r.show_names,p=r.show_flags,g=r.force_home,w=r.hide_current,d=r.hide_if_no_translation,b=function(e){var t,a;o((t=e,!1===(a=n(n({},r),t)).show_names&&!1===a.show_flags&&(void 0!==t.show_names?a.show_flags=!0:a.show_names=!0),a))};return wp.element.createElement(l,{},wp.element.createElement(s,{title:e("Language switcher settings","linguator")},wp.element.createElement(m,{label:e("Display as dropdown","linguator"),checked:!!c,onChange:function(e){return b({dropdown:!!e})}}),(!c||i)&&wp.element.createElement(m,{label:e("Show language names","linguator"),checked:!!u,onChange:function(e){return b({show_names:!!e})}}),(!c||i)&&wp.element.createElement(m,{label:e("Show flags","linguator"),checked:!!p,onChange:function(e){return b({show_flags:!!e})}}),wp.element.createElement(m,{label:e("Force switch to homepage","linguator"),checked:!!g,onChange:function(e){return b({force_home:!!e})}}),!r.dropdown&&wp.element.createElement(m,{label:e("Hide current language","linguator"),checked:!!w,onChange:function(e){return b({hide_current:!!e})}}),wp.element.createElement(m,{label:e("Hide languages without translation","linguator"),checked:!!d,onChange:function(e){return b({hide_if_no_translation:!!e})}})))}r("linguator/language-switcher",{title:e("Language switcher","linguator"),description:e("Add a language switcher so visitors can select their preferred language.","linguator"),icon:d,category:"widgets",attributes:n({},f),supports:{html:!1},edit:function(t){var n=c?c():{};return wp.element.createElement(a,{},wp.element.createElement(h,{attributes:t.attributes,setAttributes:t.setAttributes}),wp.element.createElement(p,{},g?wp.element.createElement(g,{block:"linguator/language-switcher",attributes:t.attributes}):wp.element.createElement("div",n,e("Language Switcher preview (SSR not available).","linguator"))))},save:function(){return null}});var v="linguator/navigation-language-switcher";function y(e,t,r,o){var a=function(e){var i=o(e,t,r),l=(i.innerBlocks||[]).map(function(e){return a(e)});return n(n({},i),{},{innerBlocks:l})};return e.map(a)}function k(e,t,n){if("core/navigation-link"===e.name&&e.attributes&&"#lmat_switcher"===e.attributes.url){var r=(t||[]).find(function(e){return e&&"#lmat_switcher"===e.url}),a=r&&r.meta&&r.meta._lmat_menu_item||{},i=o(v,a);return r&&void 0!==r.id&&(n[r.id]=i.clientId),i}return e}r(v,{title:e("Language switcher","linguator"),description:e("Add a language switcher to the Navigation block.","linguator"),icon:d,category:"widgets",parent:["core/navigation"],attributes:n({},f),usesContext:["textColor","customTextColor","backgroundColor","customBackgroundColor","overlayTextColor","customOverlayTextColor","overlayBackgroundColor","customOverlayBackgroundColor","fontSize","customFontSize","showSubmenuIcon","openSubmenusOnClick","style"],transforms:{from:[{type:"block",blocks:["core/navigation-link"],transform:function(){return o(v)}}]},edit:function(t){var n=t.attributes,r=t.setAttributes,o=t.context||{},i=o.showSubmenuIcon,l=o.openSubmenusOnClick,c=n.dropdown&&(i||l)?wp.element.createElement("span",{className:"wp-block-navigation__submenu-icon"},wp.element.createElement(b)):null;return wp.element.createElement(a,{},wp.element.createElement(h,{attributes:n,setAttributes:r,showHideCurrentEvenInDropdown:!0}),wp.element.createElement(p,{},wp.element.createElement("div",{className:"wp-block-navigation-item"},g?wp.element.createElement(g,{block:v,attributes:n,className:"wp-block-navigation__container block-editor-block-list__layout"}):wp.element.createElement("div",{},e("Language Switcher (Navigation) preview (SSR not available).","linguator")),c)))},save:function(){return null}}),w("blocks.navigation.__unstableMenuItemsToBlocks","linguator/include-language-switcher",function(e,t){return n(n({},e),{},{innerBlocks:y(e.innerBlocks||[],t||[],e.mapping||{},k)})})}()})();